{"version":3,"sources":["upload.js"],"names":["toArray","require","createUppy","addTransloaditPlugin","upload","files","opts","Array","isArray","length","uppy","allowMultipleUploads","forEach","file","addFile","data","type","name","meta","module","exports"],"mappings":"AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,yBAAD,CAAvB;;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAA1B;;AACA,IAAME,oBAAoB,GAAGF,OAAO,CAAC,wBAAD,CAApC;;AAEA,SAASG,MAAT,CAAiBC,KAAjB,EAAwBC,IAAxB,EAAmC;AAAA,MAAXA,IAAW;AAAXA,IAAAA,IAAW,GAAJ,EAAI;AAAA;;AACjC,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAD,IAAyB,OAAOA,KAAK,CAACI,MAAb,KAAwB,QAArD,EAA+D;AAC7DJ,IAAAA,KAAK,GAAGL,OAAO,CAACK,KAAD,CAAf;AACD;;AAED,MAAMK,IAAI,GAAGR,UAAU,CAACI,IAAD,EAAO;AAC5BK,IAAAA,oBAAoB,EAAE;AADM,GAAP,CAAvB;AAIAR,EAAAA,oBAAoB,CAACO,IAAD,EAAOJ,IAAP,CAApB;AAEAD,EAAAA,KAAK,CAACO,OAAN,CAAc,UAACC,IAAD,EAAU;AACtBH,IAAAA,IAAI,CAACI,OAAL,CAAa;AACXC,MAAAA,IAAI,EAAEF,IADK;AAEXG,MAAAA,IAAI,EAAEH,IAAI,CAACG,IAFA;AAGXC,MAAAA,IAAI,EAAEJ,IAAI,CAACI,IAHA;AAIXC,MAAAA,IAAI,EAAEL,IAAI,CAACK,IAAL,IAAa;AAJR,KAAb;AAMD,GAPD;AASA,SAAOR,IAAI,CAACN,MAAL,EAAP;AACD;;AAEDe,MAAM,CAACC,OAAP,GAAiBhB,MAAjB","sourcesContent":["const toArray = require('@uppy/utils/lib/toArray')\nconst createUppy = require('./createUppy')\nconst addTransloaditPlugin = require('./addTransloaditPlugin')\n\nfunction upload (files, opts = {}) {\n  if (!Array.isArray(files) && typeof files.length === 'number') {\n    files = toArray(files)\n  }\n\n  const uppy = createUppy(opts, {\n    allowMultipleUploads: false\n  })\n\n  addTransloaditPlugin(uppy, opts)\n\n  files.forEach((file) => {\n    uppy.addFile({\n      data: file,\n      type: file.type,\n      name: file.name,\n      meta: file.meta || {}\n    })\n  })\n\n  return uppy.upload()\n}\n\nmodule.exports = upload\n"]}